---
title: 进阶
icon: Code
# date: 2019-12-26
category: Java
timeline: true
star: true
---

## 多态

::: tip 什么是多态？

父类的引用指向子类的对象。

多态的前提条件：

- 有<strong style="color: #fb9b5f">继承</strong>/<strong style="color: #fb9b5f">实现</strong>关系。
- 有<strong style="color: #fb9b5f">父类引用指向子类对象</strong>。
- <strong style="color: #fb9b5f">有方法重写（多态侧重行为多态）</strong>。

多态格式：`父类类型 变量名 = new 子类类型()`。

多态下会产生的一个问题：

- <strong style="color: #fb9b5f">多态下不能使用子类的独有功能</strong>。
- 需要强制类型转换（从父到子）。
- 建议在类型转换前先通过 `instanceof` 关键字校验需要转换的类是否是由该父类产生的。
- 否则会出现 ClassCastException 类型转换异常的错误。

:::

多态中成员的访问特点？

- 方法调用：编译看左边，运行看右边。
- 变量调用：编译看左边，运行也看左边。

多态的前提？

- 有继承/实现的关系。
- 有父类的引用指向子类对象。
- 有方法重写（多态注重行为多态）。

多态的优点和缺点？

- 优点：实现接触耦合，便于扩展。
- 缺点：多态下不能使用子类独有的功能（如果要使用子类的独有功能则需要强制类型转换）。

## 面试题

**请问 `==` 和 `equals` 方法有什么区别？**

- `==` 既可以比较基本数据类型也可以比较引用数据类型。
  - 对于基本数据类型比较的是值。
  - 对于引用数据类型比较的是内存地址。
- `equals` 是属于 `java.lang.Object` 类中的方法。
  - 如果该方法没有被重写过：则默认与 `==` 的比较逻辑一致。
  - 如果该方法有被重写过：通常情况下，我们重写 `equals` 方法会用于比较类中相应的属性是否相等。
